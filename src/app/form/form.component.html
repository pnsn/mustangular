<div id="form" fxLayout fxLayoutAlign="center center">

    <mat-card fxFlex="50%">
        <h1>MUSTANGular v2.0</h1>
        <mat-divider></mat-divider>
        <form #queryForm="ngForm" (ngSubmit)="onSubmit()" fxLayout="column">
            <div fxFlex="50%">
                <h2> Edit Query </h2>
                <mat-form-field>
                    <input matInput placeholder="Network(s)" name="net" [(ngModel)]="query.net" (ngModelChange)="query.net = query.net.toUpperCase()">
                    <button mat-button *ngIf="query.net" matSuffix mat-icon-button aria-label="Clear" (click)="query.net=''">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Channel(s)" name="cha" [(ngModel)]="query.cha" (ngModelChange)="query.cha = query.cha.toUpperCase()">
                    <button mat-button *ngIf="query.cha" matSuffix mat-icon-button aria-label="Clear" (click)="query.cha=''">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Station(s)" name="sta" [(ngModel)]="query.sta" (ngModelChange)="query.sta = query.sta.toUpperCase()">
                    <button mat-button *ngIf="query.sta" matSuffix mat-icon-button aria-label="Clear" (click)="query.sta=''">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Location(s)" name="loc" [(ngModel)]="query.loc" (ngModelChange)="query.loc = query.loc.toUpperCase()">
                    <button mat-button *ngIf="query.loc" matSuffix mat-icon-button aria-label="Clear" (click)="query.loc=''">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Quality(s)" name="qual" [(ngModel)]="query.qual" (ngModelChange)="query.qual = query.qual.toUpperCase()">
                    <button mat-button *ngIf="query.qual" matSuffix mat-icon-button aria-label="Clear" (click)="query.qual=''">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>

                <mat-form-field>
                    <input matInput [matDatepicker]="startDate" placeholder="Start Date" required [matDatepickerFilter]="startFilter" name="start" [(ngModel)]="query.start">
                    <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
                    <mat-datepicker #startDate></mat-datepicker>
                </mat-form-field>

                <mat-form-field>
                    <input matInput [matDatepicker]="endDate" [matDatepickerFilter]="endFilter" required placeholder="End Date" name="end" [(ngModel)]="query.end">
                    <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
                    <mat-datepicker #endDate></mat-datepicker>
                </mat-form-field>
                <p>Dates start at beginning of day
                    <p>
            </div>
            <div fxFlex="50%">
                <h3> Select Metrics</h3>
                <mat-form-field>
                    <mat-select placeholder="Metric(s)" multiple required name="metric" [(ngModel)]="selectedMetrics">
                        <mat-option *ngFor="let metric of metrics" [value]="metric.name">{{metric.title}}</mat-option>
                    </mat-select>
                </mat-form-field>

                <button mat-raised-button color="primary" type="submit" [disabled]="!queryForm.form.valid">Submit</button>

                <p>Unspecified values will act as wildcards.</p>
            </div>
            <!--TODO: add information about form values (i.e. '&', ',') -->
        </form>
    </mat-card>
</div>
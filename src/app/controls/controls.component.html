<form #controlForm="ngForm" (ngSubmit)="onSubmit(controlForm)">

    <span>Available Metrics</span>

    <mat-radio-group class="select-active" [(ngModel)]="active.metricIndex" (ngModelChange)="valueChanged()" name="metric">
        <mat-radio-button *ngFor="let metric of metrics; let i = index" [value]="i">
            {{metric.title}}
        </mat-radio-button>
    </mat-radio-group>

    <mat-divider></mat-divider>

    <div>Channel stuff here</div>
    <ng-container *ngFor="let channel of channels" name="channels">
        <mat-checkbox class="example-margin" [(ngModel)]="active.channels" (ngModelChange)="valueChanged()" [name]="channel">{{channel}}</mat-checkbox>
    </ng-container>

    <mat-divider></mat-divider>

    <div>Display Value</div>
    <mat-radio-group class="select-active" [(ngModel)]="active.value" (ngModelChange)="valueChanged()" name="values">
        <mat-radio-button *ngFor="let value of displayValues" [value]="value" [name]="value">
            {{value}}
        </mat-radio-button>
    </mat-radio-group>

    <mat-divider></mat-divider>
    <div>Binning</div>
    <!-- <mat-slider min="1" max="5" step="0.5" value="1.5"></mat-slider> -->

    <!--make this some sort of form group so it changes when you leave, not on individual  -->
    <mat-form-field>
        <input matInput required type="number" placeholder="Maximum" [(ngModel)]="binning.max" (ngModelChange)="valueChanged()" min="{{binning.min + 1}}" name="maximum">
    </mat-form-field>

    <mat-form-field>
        <input matInput required type="number" placeholder="Minimum" [(ngModel)]="binning.min" (ngModelChange)="valueChanged()" max="{{binning.max - 1}}" name="minimum">
    </mat-form-field>

    <mat-form-field>
        <input matInput required type="number" placeholder="Count" [(ngModel)]="binning.count" (ngModelChange)="valueChanged()" min="1" max="25" name="count">
    </mat-form-field>

    <div>Coloring</div>
    High
    <input matInput type="color" class="color-picker" [(ngModel)]="coloring.high" (ngModelChange)="valueChanged()" name="high"> Low
    <input matInput type="color" class="color-picker" [(ngModel)]="coloring.low" (ngModelChange)="valueChanged()" name="low">

    <button mat-raised-button color="primary" [disabled]="!changed" type="submit">
        Update
    </button>
    <p *ngIf="changed">Warning! Display Not Updated</p>
</form>